!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r="Content-Type",o={data:null,status:200,statusText:"you skip request and success always",headers:{},conf:{},request:null},u="ASKER:REQUEST_ABORT",i="ASKER:REQUEST_ERROR",a="ASKER:REQUEST_TIMEOUT",s=["get","delete","head","options"],c=["post","put","patch"];function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return"function"==typeof e}function p(e){return"[object Object]"===function(e){return Object.prototype.toString.call(e)}(e)}function d(e){return"number"==typeof e&&!isNaN(e)}function y(e){return void 0===e}function h(e){return Array.isArray(e)}function m(e){return p(e)||h(e)}function b(e){return"string"==typeof e}function v(e,t){if(null!=t)if("object"!=f(t))e(t,0,t);else if(h(t))t.forEach((function(n,r){e.call(null,n,r,t)}));else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!p(e))return"";var n=[];return v((function(e,r){e=t?encodeURIComponent(e):e,n.push("".concat(r,"=").concat(e))}),e),n.join("&")}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(e)?(e=e.replace(/^.*\?/,"")).split("&").reduce((function(e,n){var r=n.split("=");if(2===r.length){var o=r[1];if(t)try{o=JSON.parse(o)}catch(e){}e[r[0]]=o}return e}),{}):e}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return m(e)})),o=r.shift();return r.reduce((function(e,t){if(!m(t))throw TypeError("merge a ".concat(t," to object"));return v((function(t,n){var r=e[n];p(t)?e[n]=j(p(r)?r:{},t):h(t)?e[n]=j(h(r)?r:[],t):e[n]=t}),t),e}),o),o}function E(){var e=[],t=[];return Array.from(arguments).filter((function(e){return e})).forEach((function(n){var r=n.before,o=n.after;(l(r)||h(r))&&(e=e.concat(r)),(l(o)||h(o))&&(t=t.concat(o))})),{beforeQueue:e,afterQueue:t}}var O=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];function R(e,t){return{status:e,message:t}}var P={};function S(e){if(!(this instanceof S))return new S(e);var t=j({},S.conf,e);this.conf=Object.assign(t,E(S.conf,e))}S.errorType={ABORT:u,ERROR:i,TIMEOUT:a},S.conf=j({},{url:"",baseUrl:"",query:"",body:null,headers:{},postType:"json",responseType:"json",timeout:0}),S.cache=P;var x=S;function A(){if(!(this instanceof A))return new A;this.promise=new Promise(function(e){this.resolve=e}.bind(this))}function q(e){return new Promise((function(t,n){var r=e.adapter,u=j({},o,{conf:e}),i=l(r)?r(e,u):j(u,{data:r,request:null});(i instanceof Promise?i:Promise.resolve(i)).then((function(r){(l(e.validator)?e.validator(r.status):r.status>=200&&r.status<300)?t(r):n({message:"adapter return status: ".concat(r.status),status:r.status})}))}))}function C(e){return new Promise((function(t,n){var r,s=new XMLHttpRequest;function c(){s=null}s.onreadystatechange=function(){if(s&&4===s.readyState&&0!==s.status){if(!(l(e.validator)?e.validator(s.status):s.status>=200&&s.status<300))return n(R(s.status,s.responseText));var r=function(e){if(!l(e.getAllResponseHeaders))return null;var t,n,r,o=e.getAllResponseHeaders(),u={};return o.split("\n").forEach((function(e){if(r=e.indexOf(":"),t=e.substr(0,r).trim().toLowerCase(),n=e.substr(r+1).trim(),t){if(u[t]&&O.includes(t))return;u[t]="set-cookie"===t?(u[t]?u[t]:[]).concat([n]):u[t]?u[t]+", "+n:n}})),u}(s),u=e.responseType&&"text"!==e.responseType?"json"===e.responseType?JSON.parse(s.responseText):s.response:s.responseText,i=j({},o,{data:u,status:s.status,statusText:s.statusText,headers:r,conf:e,request:s});c(),t(i)}},s.onabort=function(){s&&(l(e.onAbort)?e.onAbort.call(null,u,s):n(R(s.status,u)),c())},s.onerror=function(){s&&(l(e.onError)?e.onError.call(null,i,s):n(R(s.status,i)),c())},s.ontimeout=function(){s&&(l(e.onTimeout)?e.onTimeout.call(null,a,s):n(R(s.status,a)),c())},d(r=e.timeout)&&r>0&&(s.timeout=e.timeout),e.withCredentials&&(s.withCredentials=!0),s.open(e.method.toUpperCase(),e.uri,!0);var f=e.headers;v((function(t,n){e.body||"content-type"!==n.toLowerCase()?s.setRequestHeader(n,t):delete f[n]}),f),y(e.withCredentials)||(s.withCredentials=!!e.withCredentials),l(e.onDownloadProgress)&&s.addEventListener("progress",(function(t){e.onDownloadProgress.call(null,t,s,e)})),l(e.onUploadProgress)&&s.upload&&s.upload.addEventListener("progress",(function(t){e.onUploadProgress.call(null,t,s,e)})),e.canceler&&e.canceler.promise.then((function(){s&&(s.abort(),c())})),s&&s.send(e.body)}))}function M(e,t){return new Promise((function(n){var r="asker_jsonp"+(new Date).getTime(),o="".concat(e.jsonp,"=").concat(r),u=e.uri,i=u.split("?").length>1;u+=(i?"&":"?")+o;var a=document.createElement("script");function s(){window[r]&&(delete window[r],document.body.removeChild(a))}a.src=u,window[r]=function(r){var o=Object.assign({},t,{data:r,status:200,statusText:"jsonp",conf:e,request:u});n(o),s()},e.canceler&&e.canceler.promise.then(s),window[r]&&document.body.appendChild(a)}))}function U(e){var t=(e.baseUrl||"")+(e.url||"");p(e.params)&&(e.query=w(e.params),t+="?"+e.query),e.uri=t;var n,r=e.getCache,o=d(r)&&r>0,u=(r||o)&&(n=e.method,s.includes(n));if(u){if(g(P,t))return console.log("f"),Promise.resolve(P[t]);o&&setTimeout((function(){g(P,t)&&delete P[t]}),1e3*r+1)}var i=e.beforeQueue.reduce((function(e,t){return t(e)}),e);return(y(i.adapter)?C:q)(i).then((function(e){var n=i.afterQueue.reduce((function(e,t){return t(e)}),e);return u&&(P[t]=n),n}))}function _(e){return function(t,n,o){var u,i=E(this.conf,o),a=j({},this.conf,o);if((a=Object.assign(a,i)).method=e,a.url=t,n){var s=a.headers||{},c=null;switch(a.postType){case"form-data":c=function(e){if(!p(e)&&!h(e))return e;var t=new FormData;return v((function(e,n){return t.append(n,e)}),e),t}(n),delete s[r];break;case"text":c=n,s[r]="text/plain";break;case"form-urlencoded":c=w(n,!0),s[r]="application/x-www-form-urlencoded";break;case"json":default:u=n,c=JSON.stringify(u),s[r]="application/json"}a.body=c}return U(a)}}function k(e,t){if(!window.Blob)return e?[e]:[];if(!(e instanceof Blob))throw TypeError("first must be a Blob");if("number"!=typeof t)throw ReferenceError('must set a "piece" size');for(var n=e.size,r=0,o=r+t,u=[];r<n;){var i=e.slice(r,o);u.push(i),o=(o=(r=o)+t)<n?o:n}return u}function N(e){return function(t){var n;try{(n=t(e))instanceof Promise&&(n=n.catch(e))}catch(t){e(t)}return n}}A.prototype.cancel=function(e){this.resolve(e)};var Q={continue:100,switchingProtocols:101,processing:102,ok:200,created:201,accepted:202,nonauthoritativeInformation:203,noContent:204,resetContent:205,partialContent:206,ambiguous:300,movedPermanently:301,found:302,seeOther:303,notModified:304,temporaryRedirect:307,permanentRedirect:308,badRequest:400,unauthorized:401,paymentRequired:402,forbidden:403,notFound:404,methodNotAllowed:405,notAcceptable:406,proxyAuthenticationRequired:407,requestTimeout:408,conflict:409,gone:410,lengthRequired:411,preconditionFailed:412,payloadTooLarge:413,uriTooLong:414,unsupportedMediaType:415,requestedRangeNotSatisfiable:416,expectationFailed:417,iAmATeapot:418,unprocessableEntity:422,tooManyRequests:429,internalServerError:500,notImplemented:501,badGateway:502,serviceUnavailable:503,gatewayTimeout:504,httpVersionNotSupported:505};n.d(t,"Asker",(function(){return x})),n.d(t,"Canceler",(function(){return A})),n.d(t,"splitBlob",(function(){return k})),n.d(t,"safeCall",(function(){return N})),n.d(t,"HttpStatus",(function(){return Q})),n.d(t,"object2Query",(function(){return w})),n.d(t,"query2Object",(function(){return T}));var L=null;s.forEach((function(e){x.prototype[e]=function(e){return function(t,n,r){var o=E(this.conf,r),u=j({},this.conf,r);return(u=Object.assign(u,o)).method=e,u.url=t,u.params=n,U(u)}}(e)})),c.forEach((function(e){x.prototype[e]=_(e)})),s.concat(c).concat(["jsonp","batch"]).forEach((function(e){x[e]=function(){var t;return(t=L=L||new x)[e].apply(t,arguments)}})),x.prototype.jsonp=function(e,t,n){return n=n||{},b(t)&&(n.jsonp=t,t=void 0),n.method="get",n.adapter=M,this.get(e,t,n)},x.prototype.batch=function(e,t,n){t=Array.isArray(t)?t:[t];var r=new Map;t.forEach((function(e,t){return r.set(e,t)}));var o=this,u=n.method||"get",i=n.slice||t.length,a=n.retry||0,s=[],c=t.slice(0,i),f=t.slice(i),l=new Map;return new Promise((function(t,i){Promise.all(c.map((function(t,i){return function e(t,n,i,c){return o[u](t,n,i).then((function(e){s[r.get(n)]=e})).catch((function(e){l.get(n)||l.set(n,0);var t=l.get(n);return t<a?(l.set(n,t+1),c.push(n),Promise.resolve()):Promise.reject({error:e,batch:n,all:Array.from(l.keys())})})).then((function(){if(c.length>0)return e(t,c.shift(),i,c)}))}(e,t,n,f)}))).then((function(){t(s)})).catch((function(e){i(e)}))}))};t.default=x}]));